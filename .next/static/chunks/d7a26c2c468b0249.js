(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61072,e=>{"use strict";var a=e.i(43476);let t=e.i(71645).default.forwardRef(({className:e="",...t},r)=>(0,a.jsx)("input",{ref:r,className:`w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all placeholder-gray-400 dark:placeholder-gray-500 ${e}`,...t}));e.s(["Button",0,({children:e,variant:t="primary",className:r="",isLoading:s,...i})=>(0,a.jsxs)("button",{className:`px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center ${{primary:"bg-primary-600 hover:bg-primary-700 text-white shadow-sm hover:shadow",outline:"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}[t]} ${r}`,disabled:s||i.disabled,...i,children:[s&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e]}),"Card",0,({children:e,className:t=""})=>(0,a.jsx)("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm ${t}`,children:e}),"Input",0,t])},71249,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(61072),s=e.i(1528),i=e.i(61911),l=e.i(7486),d=e.i(75254);let o=(0,d.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),n=(0,d.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),c=({title:e,value:t,change:s,changeType:i,icon:l,subtext:d})=>(0,a.jsxs)(r.Card,{className:"p-6 flex flex-col justify-between h-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm",children:e}),(0,a.jsx)("div",{className:"p-2 bg-primary-50 dark:bg-primary-900/30 rounded-lg text-primary-600 dark:text-primary-400",children:(0,a.jsx)(l,{size:20})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[s&&(0,a.jsx)("span",{className:`font-medium ${"positive"===i?"text-green-600 dark:text-green-400":"negative"===i?"text-red-600 dark:text-red-400":"text-gray-500"} mr-2`,children:s}),(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:d})]})]})]});function x(){var e;let{user:d}=(0,s.useUser)(),[x,g]=(0,t.useState)(null),[u,m]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{if(d?.id)try{let e=await fetch("/api/dashboard/stats");if(!e.ok)throw Error("Failed to fetch dashboard stats");let a=await e.json();g(a)}catch(e){console.error("Error loading dashboard data:",e)}finally{m(!1)}})()},[d?.id]),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),(0,a.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:["Welcome back, ",d?.firstName&&d?.lastName?`${d.firstName} ${d.lastName}`:d?.firstName||d?.username||"User"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[(0,a.jsx)(c,{title:"Total Population",value:u||!x?"...":(e=x.population)>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"k":e.toString(),change:"+12%",changeType:"positive",subtext:"coverage area",icon:n}),(0,a.jsx)(c,{title:"Tracked Agencies",value:u||!x?"...":x.agencies,change:"+4",changeType:"positive",subtext:"new regions",icon:l.Building2}),(0,a.jsx)(c,{title:"Total Contacts",value:u||!x?"...":x.contacts.toLocaleString(),change:"+150",changeType:"positive",subtext:"available leads",icon:i.Users}),(0,a.jsx)(c,{title:"Daily API Usage",value:u||!x?"...":`${x.usage.count}/${x.usage.total}`,change:"Resets Daily",changeType:"neutral",subtext:"view limit",icon:o})]}),(0,a.jsxs)(r.Card,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Daily Credits Consumption"}),(0,a.jsxs)("div",{className:"relative pt-1",children:[(0,a.jsxs)("div",{className:"flex mb-2 items-center justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200 dark:bg-blue-900 dark:text-blue-200",children:"Used"})}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("span",{className:"text-xs font-semibold inline-block text-blue-600 dark:text-blue-400",children:[x?Math.min(100,Math.round(x.usage.count/x.usage.total*100)):0,"%"]})})]}),(0,a.jsx)("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-100 dark:bg-gray-700",children:(0,a.jsx)("div",{style:{width:x?`${Math.min(100,x.usage.count/x.usage.total*100)}%`:"0%"},className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center transition-all duration-500 ${x&&x.usage.count>=x.usage.total?"bg-red-500":"bg-primary-500"}`})}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:x?x.usage.count>=x.usage.total?"You have reached your daily limit. Please come back tomorrow.":`You can view details for ${x.usage.remaining} more contacts today.`:"Loading..."})]})]})]})}e.s(["default",()=>x],71249)}]);