(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61072,e=>{"use strict";var t=e.i(43476);let a=e.i(71645).default.forwardRef(({className:e="",...a},r)=>(0,t.jsx)("input",{ref:r,className:`w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all placeholder-gray-400 dark:placeholder-gray-500 ${e}`,...a}));e.s(["Button",0,({children:e,variant:a="primary",className:r="",isLoading:i,...o})=>(0,t.jsxs)("button",{className:`px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center ${{primary:"bg-primary-600 hover:bg-primary-700 text-white shadow-sm hover:shadow",outline:"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}[a]} ${r}`,disabled:i||o.disabled,...o,children:[i&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e]}),"Card",0,({children:e,className:a=""})=>(0,t.jsx)("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm ${a}`,children:e}),"Input",0,a])},69297,e=>{"use strict";let t,a,r,i;var o=e.i(72064);let s=(t=[{name:"Washington",code:"WA"},{name:"Ohio",code:"OH"},{name:"Michigan",code:"MI"},{name:"Kentucky",code:"KY"},{name:"Illinois",code:"IL"},{name:"Texas",code:"TX"},{name:"Montana",code:"MT"},{name:"California",code:"CA"},{name:"Arizona",code:"AZ"},{name:"Florida",code:"FL"},{name:"Georgia",code:"GA"},{name:"Connecticut",code:"CT"}],a=["City","County"],Array.from({length:34}).map((e,r)=>{let i=t[Math.floor(Math.random()*t.length)],o=a[Math.floor(Math.random()*a.length)],s="City"===o?`City of ${String.fromCharCode(65+r%26)}${r+10}ville`:`${String.fromCharCode(65+r%26)}son County`;return{id:`00526332-${Math.random().toString(36).substr(2,9)}`,name:s,state:i.name,state_code:i.code,type:o,population:Math.floor(9e5*Math.random())+1e4,website:`https://www.${s.replace(/\s/g,"").toLowerCase()}.gov`,county:"City"===o?`${i.name} County`:"-",created_at:new Date(Date.now()-Math.floor(1e10*Math.random())).toISOString().replace("T"," ").substring(0,19)}})),n=(r=["City Manager","County Clerk","Director of Public Works","Chief of Police","IT Director","HR Director","Mayor","Commissioner"],i=["Administration","Clerk","Public Works","Police","Information Technology","Human Resources","Executive"],Array.from({length:1203}).map((e,t)=>({id:`ct_${t+1}`,name:`Contact ${t+1}`,email:`contact${t+1}@example.gov`,phone:`561-393-${7e3+t}`,role:r[Math.floor(Math.random()*r.length)],department:i[Math.floor(Math.random()*i.length)],agencyId:s[Math.floor(Math.random()*s.length)].id}))),l=e=>`InfinitiveByt_daily_limit_${e}`,c=e=>`InfinitiveByt_unlocked_contacts_${e}`,d=e=>`InfinitiveByt_view_order_${e}`,m={getAgencies:async()=>(await new Promise(e=>setTimeout(e,300)),s),getContacts:async()=>(await new Promise(e=>setTimeout(e,300)),n),getUnlockedContactIds:e=>{let t=localStorage.getItem(c(e));return t?new Set(JSON.parse(t)):new Set},unlockContact:async(e,t)=>{new Date().toISOString().split("T")[0];let a=m.getUnlockedContactIds(t);if(a.has(e)){m.updateViewOrder(e,t);let a=m.getLimitState(t);return{success:!0,remaining:Math.max(0,o.DAILY_CONTACT_LIMIT-a.count)}}let r=m.getLimitState(t);if(r.count>=o.DAILY_CONTACT_LIMIT)return{success:!1,remaining:0};let i=r.count+1;return localStorage.setItem(l(t),JSON.stringify({...r,count:i})),a.add(e),localStorage.setItem(c(t),JSON.stringify(Array.from(a))),m.updateViewOrder(e,t),{success:!0,remaining:Math.max(0,o.DAILY_CONTACT_LIMIT-i)}},getLimitState:e=>{let t=new Date().toISOString().split("T")[0],a=localStorage.getItem(l(e)),r=a?JSON.parse(a):{date:t,count:0};return r.date!==t&&(r={date:t,count:0},localStorage.setItem(l(e),JSON.stringify(r))),r},getUsageStats:e=>({count:m.getLimitState(e).count,total:o.DAILY_CONTACT_LIMIT}),updateViewOrder:(e,t)=>{let a=localStorage.getItem(d(t)),r=a?JSON.parse(a):[];(r=r.filter(t=>t.contactId!==e)).unshift({contactId:e,timestamp:Date.now()}),r=r.slice(0,100),localStorage.setItem(d(t),JSON.stringify(r))},getContactsSorted:async e=>{let t=await m.getContacts(),a=localStorage.getItem(d(e)),r=a?JSON.parse(a):[],i=m.getUnlockedContactIds(e),o=new Map;return r.forEach((e,t)=>{i.has(e.contactId)&&o.set(e.contactId,t)}),t.sort((e,t)=>{let a=o.get(e.id),r=o.get(t.id);return void 0!==a&&void 0!==r?a-r:void 0!==a?-1:+(void 0!==r)})}};e.s(["dataService",0,m])},71249,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(61072),i=e.i(69297),o=e.i(1528),s=e.i(61911),n=e.i(7486),l=e.i(75254);let c=(0,l.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),d=(0,l.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),m=({title:e,value:a,change:i,changeType:o,icon:s,subtext:n})=>(0,t.jsxs)(r.Card,{className:"p-6 flex flex-col justify-between h-full",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm",children:e}),(0,t.jsx)("div",{className:"p-2 bg-primary-50 dark:bg-primary-900/30 rounded-lg text-primary-600 dark:text-primary-400",children:(0,t.jsx)(s,{size:20})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:a}),(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[i&&(0,t.jsx)("span",{className:`font-medium ${"positive"===o?"text-green-600 dark:text-green-400":"negative"===o?"text-red-600 dark:text-red-400":"text-gray-500"} mr-2`,children:i}),(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:n})]})]})]});function g(){var e;let{user:l}=(0,o.useUser)(),[g,u]=(0,a.useState)({count:0,total:0}),[h,x]=(0,a.useState)({population:0,agenciesCount:0,contactsCount:0}),[y,p]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{if(!l?.id)return;let[e,t,a]=await Promise.all([i.dataService.getAgencies(),i.dataService.getContacts(),i.dataService.getUsageStats(l.id)]);x({population:e.reduce((e,t)=>e+(t.population||0),0),agenciesCount:e.length,contactsCount:t.length}),u(a),p(!1)})()},[l?.id]),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),(0,t.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:["Welcome back, ",l?.firstName&&l?.lastName?`${l.firstName} ${l.lastName}`:l?.firstName||l?.username||"User"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[(0,t.jsx)(m,{title:"Total Population",value:y?"...":(e=h.population)>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"k":e.toString(),change:"+12%",changeType:"positive",subtext:"coverage area",icon:d}),(0,t.jsx)(m,{title:"Tracked Agencies",value:y?"...":h.agenciesCount,change:"+4",changeType:"positive",subtext:"new regions",icon:n.Building2}),(0,t.jsx)(m,{title:"Total Contacts",value:y?"...":h.contactsCount.toLocaleString(),change:"+150",changeType:"positive",subtext:"available leads",icon:s.Users}),(0,t.jsx)(m,{title:"Daily API Usage",value:`${g.count}/${g.total}`,change:"Resets Daily",changeType:"neutral",subtext:"view limit",icon:c})]}),(0,t.jsxs)(r.Card,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Daily Credits Consumption"}),(0,t.jsxs)("div",{className:"relative pt-1",children:[(0,t.jsxs)("div",{className:"flex mb-2 items-center justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200 dark:bg-blue-900 dark:text-blue-200",children:"Used"})}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("span",{className:"text-xs font-semibold inline-block text-blue-600 dark:text-blue-400",children:[Math.min(100,Math.round(g.count/g.total*100)),"%"]})})]}),(0,t.jsx)("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-100 dark:bg-gray-700",children:(0,t.jsx)("div",{style:{width:`${Math.min(100,g.count/g.total*100)}%`},className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center transition-all duration-500 ${g.count>=g.total?"bg-red-500":"bg-primary-500"}`})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:g.count>=g.total?"You have reached your daily limit. Please come back tomorrow.":`You can view details for ${g.total-g.count} more contacts today.`})]})]})]})}e.s(["default",()=>g],71249)}]);