module.exports=[47284,a=>{"use strict";var b=a.i(87924);let c=a.i(72131).default.forwardRef(({className:a="",...c},d)=>(0,b.jsx)("input",{ref:d,className:`w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all placeholder-gray-400 dark:placeholder-gray-500 ${a}`,...c}));a.s(["Button",0,({children:a,variant:c="primary",className:d="",isLoading:e,...f})=>(0,b.jsxs)("button",{className:`px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center ${{primary:"bg-primary-600 hover:bg-primary-700 text-white shadow-sm hover:shadow",outline:"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}[c]} ${d}`,disabled:e||f.disabled,...f,children:[e&&(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a]}),"Card",0,({children:a,className:c=""})=>(0,b.jsx)("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm ${c}`,children:a}),"Input",0,c])},38809,a=>{"use strict";let b,c,d,e;var f=a.i(65212);let g=(b=[{name:"Washington",code:"WA"},{name:"Ohio",code:"OH"},{name:"Michigan",code:"MI"},{name:"Kentucky",code:"KY"},{name:"Illinois",code:"IL"},{name:"Texas",code:"TX"},{name:"Montana",code:"MT"},{name:"California",code:"CA"},{name:"Arizona",code:"AZ"},{name:"Florida",code:"FL"},{name:"Georgia",code:"GA"},{name:"Connecticut",code:"CT"}],c=["City","County"],Array.from({length:34}).map((a,d)=>{let e=b[Math.floor(Math.random()*b.length)],f=c[Math.floor(Math.random()*c.length)],g="City"===f?`City of ${String.fromCharCode(65+d%26)}${d+10}ville`:`${String.fromCharCode(65+d%26)}son County`;return{id:`00526332-${Math.random().toString(36).substr(2,9)}`,name:g,state:e.name,state_code:e.code,type:f,population:Math.floor(9e5*Math.random())+1e4,website:`https://www.${g.replace(/\s/g,"").toLowerCase()}.gov`,county:"City"===f?`${e.name} County`:"-",created_at:new Date(Date.now()-Math.floor(1e10*Math.random())).toISOString().replace("T"," ").substring(0,19)}})),h=(d=["City Manager","County Clerk","Director of Public Works","Chief of Police","IT Director","HR Director","Mayor","Commissioner"],e=["Administration","Clerk","Public Works","Police","Information Technology","Human Resources","Executive"],Array.from({length:1203}).map((a,b)=>({id:`ct_${b+1}`,name:`Contact ${b+1}`,email:`contact${b+1}@example.gov`,phone:`561-393-${7e3+b}`,role:d[Math.floor(Math.random()*d.length)],department:e[Math.floor(Math.random()*e.length)],agencyId:g[Math.floor(Math.random()*g.length)].id}))),i=a=>`InfinitiveByt_daily_limit_${a}`,j=a=>`InfinitiveByt_unlocked_contacts_${a}`,k=a=>`InfinitiveByt_view_order_${a}`,l={getAgencies:async()=>(await new Promise(a=>setTimeout(a,300)),g),getContacts:async()=>(await new Promise(a=>setTimeout(a,300)),h),getUnlockedContactIds:a=>{let b=localStorage.getItem(j(a));return b?new Set(JSON.parse(b)):new Set},unlockContact:async(a,b)=>{new Date().toISOString().split("T")[0];let c=l.getUnlockedContactIds(b);if(c.has(a)){l.updateViewOrder(a,b);let c=l.getLimitState(b);return{success:!0,remaining:Math.max(0,f.DAILY_CONTACT_LIMIT-c.count)}}let d=l.getLimitState(b);if(d.count>=f.DAILY_CONTACT_LIMIT)return{success:!1,remaining:0};let e=d.count+1;return localStorage.setItem(i(b),JSON.stringify({...d,count:e})),c.add(a),localStorage.setItem(j(b),JSON.stringify(Array.from(c))),l.updateViewOrder(a,b),{success:!0,remaining:Math.max(0,f.DAILY_CONTACT_LIMIT-e)}},getLimitState:a=>{let b=new Date().toISOString().split("T")[0],c=localStorage.getItem(i(a)),d=c?JSON.parse(c):{date:b,count:0};return d.date!==b&&(d={date:b,count:0},localStorage.setItem(i(a),JSON.stringify(d))),d},getUsageStats:a=>({count:l.getLimitState(a).count,total:f.DAILY_CONTACT_LIMIT}),updateViewOrder:(a,b)=>{let c=localStorage.getItem(k(b)),d=c?JSON.parse(c):[];(d=d.filter(b=>b.contactId!==a)).unshift({contactId:a,timestamp:Date.now()}),d=d.slice(0,100),localStorage.setItem(k(b),JSON.stringify(d))},getContactsSorted:async a=>{let b=await l.getContacts(),c=localStorage.getItem(k(a)),d=c?JSON.parse(c):[],e=l.getUnlockedContactIds(a),f=new Map;return d.forEach((a,b)=>{e.has(a.contactId)&&f.set(a.contactId,b)}),b.sort((a,b)=>{let c=f.get(a.id),d=f.get(b.id);return void 0!==c&&void 0!==d?c-d:void 0!==c?-1:+(void 0!==d)})}};a.s(["dataService",0,l])},13749,50522,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>c],13749);let d=(0,b.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>d],50522)},53895,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(47284),e=a.i(38809),f=a.i(70106);let g=(0,f.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),h=(0,f.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),i=(0,f.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var j=a.i(13749),k=a.i(50522),l=a.i(20180);function m(){let{user:a}=(0,l.useUser)(),[f,m]=(0,c.useState)([]),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(new Set),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(0),[x,y]=(0,c.useState)(1),z=Math.ceil(f.length/50),A=(x-1)*50,B=A+50;(0,c.useEffect)(()=>{if(!a?.id)return;e.dataService.getContactsSorted(a.id).then(a=>{m(a),q(!1)}),s(e.dataService.getUnlockedContactIds(a.id));let b=e.dataService.getUsageStats(a.id);w(b.total-b.count)},[a?.id]),(0,c.useEffect)(()=>{o(f.slice(A,B))},[f,x,A,B]);let C=async b=>{if(!a?.id)return;let c=await e.dataService.unlockContact(b,a.id);if(c.success){let d=new Set(r);d.add(b),s(d),w(c.remaining),u(""),m(await e.dataService.getContactsSorted(a.id))}else u("Daily view limit reached. Upgrade to view more contacts.")},D=a=>{a>=1&&a<=z&&y(a)};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Contacts"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Access contact details of your network"}),(0,b.jsxs)("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:["Showing ",A+1,"-",Math.min(B,f.length)," of ",f.length," contacts (Page ",x," of ",z,")"]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-end",children:[(0,b.jsxs)("span",{className:`text-sm font-medium px-4 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm ${v<10?"text-red-600":"text-gray-600 dark:text-gray-400"}`,children:["Credits Remaining: ",v]}),t&&(0,b.jsx)("span",{className:"text-xs text-red-600 mt-2 animate-pulse",children:t})]})]}),(0,b.jsx)(d.Card,{className:"overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,b.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Job Title"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Department"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact Info"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:p?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"Loading contacts..."})}):n.map(a=>{let c=r.has(a.id);return(0,b.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:a.name}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:a.role}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:a.department}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"text-sm",children:c?(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-gray-900 dark:text-white select-all",children:a.email}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 select-all",children:a.phone})]}):(0,b.jsx)("div",{className:"flex items-center text-gray-400",children:(0,b.jsx)("span",{className:"tracking-widest",children:"••••••••••••••••"})})})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)(d.Button,{variant:c?"outline":"primary",className:`text-xs px-3 py-1.5 h-auto ${c?"cursor-default opacity-75":""}`,onClick:()=>C(a.id),disabled:c&&!1,children:c?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h,{size:14,className:"mr-1.5"}),"Revealed"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g,{size:14,className:"mr-1.5"}),"View"]})})})]},a.id)})})]})})}),z>1&&(0,b.jsx)(d.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(d.Button,{variant:"outline",onClick:()=>{x>1&&y(x-1)},disabled:1===x,className:"flex items-center gap-2",children:[(0,b.jsx)(j.ChevronLeft,{size:16}),"Previous"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[Array.from({length:Math.min(5,z)},(a,c)=>{let e;return e=z<=5||x<=3?c+1:x>=z-2?z-4+c:x-2+c,(0,b.jsx)(d.Button,{variant:x===e?"primary":"outline",onClick:()=>D(e),className:"w-10 h-10 p-0",children:e},e)}),z>5&&x<z-2&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"..."}),(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>D(z),className:"w-10 h-10 p-0",children:z})]})]}),(0,b.jsxs)(d.Button,{variant:"outline",onClick:()=>{x<z&&y(x+1)},disabled:x===z,className:"flex items-center gap-2",children:["Next",(0,b.jsx)(k.ChevronRight,{size:16})]})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400 dark:text-gray-600 mt-4",children:[(0,b.jsx)(i,{size:12}),(0,b.jsx)("span",{children:'Clicking "View" will consume 1 credit. Unlocked contacts remain visible for your session.'})]})]})}a.s(["default",()=>m],53895)}];

//# sourceMappingURL=_b91fcb85._.js.map