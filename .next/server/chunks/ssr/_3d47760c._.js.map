{"version":3,"sources":["../../../../components/UI.tsx","../../../../app/%28dashboard%29/dashboard/page.tsx","../../../../node_modules/lucide-react/src/icons/trending-up.ts"],"sourcesContent":["import React from 'react';\n\nexport const Card = ({ children, className = \"\" }: { children?: React.ReactNode, className?: string }) => (\n  <div className={`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm ${className}`}>\n    {children}\n  </div>\n);\n\nexport const Button = ({ \n  children, \n  variant = 'primary', \n  className = \"\", \n  isLoading,\n  ...props \n}: React.ButtonHTMLAttributes<HTMLButtonElement> & { variant?: 'primary' | 'outline', isLoading?: boolean }) => {\n  const baseStyles = \"px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\";\n  const variants = {\n    primary: \"bg-primary-600 hover:bg-primary-700 text-white shadow-sm hover:shadow\",\n    outline: \"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\n  };\n\n  return (\n    <button \n      className={`${baseStyles} ${variants[variant]} ${className}`} \n      disabled={isLoading || props.disabled}\n      {...props}\n    >\n      {isLoading && (\n        <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-current\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n      )}\n      {children}\n    </button>\n  );\n};\n\nexport const Input = React.forwardRef<HTMLInputElement, React.InputHTMLAttributes<HTMLInputElement>>(({ className = \"\", ...props }, ref) => (\n  <input\n    ref={ref}\n    className={`w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all placeholder-gray-400 dark:placeholder-gray-500 ${className}`}\n    {...props}\n  />\n));","'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Card } from '../../../components/UI';\r\nimport { useUser } from '@clerk/nextjs';\r\nimport { Users, Building2, TrendingUp } from 'lucide-react';\r\n\r\nconst StatCard = ({ title, value, change, changeType, icon: Icon, subtext }: any) => {\r\n  const isPositive = changeType === 'positive';\r\n  const isNegative = changeType === 'negative';\r\n  \r\n  return (\r\n    <Card className=\"p-6 flex flex-col justify-between h-full\">\r\n      <div className=\"flex justify-between items-start mb-4\">\r\n        <span className=\"text-gray-500 dark:text-gray-400 font-medium text-sm\">{title}</span>\r\n        <div className=\"p-2 bg-primary-50 dark:bg-primary-900/30 rounded-lg text-primary-600 dark:text-primary-400\">\r\n          <Icon size={20} />\r\n        </div>\r\n      </div>\r\n      \r\n      <div>\r\n        <h3 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">{value}</h3>\r\n        <div className=\"flex items-center text-sm\">\r\n          {change && (\r\n            <span className={`font-medium ${\r\n              isPositive ? 'text-green-600 dark:text-green-400' : \r\n              isNegative ? 'text-red-600 dark:text-red-400' : 'text-gray-500'\r\n            } mr-2`}>\r\n              {change}\r\n            </span>\r\n          )}\r\n          <span className=\"text-gray-500 dark:text-gray-400\">{subtext}</span>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\ninterface DashboardStats {\r\n  contacts: number;\r\n  agencies: number;\r\n  usage: {\r\n    count: number;\r\n    total: number;\r\n    remaining: number;\r\n  };\r\n}\r\n\r\nexport default function Dashboard() {\r\n  const { user: clerkUser } = useUser();\r\n  const [stats, setStats] = useState<DashboardStats | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  useEffect(() => {\r\n    const loadDashboardData = async () => {\r\n      if (!clerkUser?.id) return;\r\n      \r\n      try {\r\n        const response = await fetch('/api/dashboard/stats');\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch dashboard stats');\r\n        }\r\n        \r\n        const data: DashboardStats = await response.json();\r\n        setStats(data);\r\n      } catch (error) {\r\n        console.error('Error loading dashboard data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadDashboardData();\r\n  }, [clerkUser?.id]);\r\n\r\n  const formatNumber = (num: number) => {\r\n    if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';\r\n    if (num >= 1000) return (num / 1000).toFixed(1) + 'k';\r\n    return num.toString();\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* Header Section */}\r\n      <div className=\"flex flex-col gap-1\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Dashboard</h1>\r\n        <p className=\"text-gray-500 dark:text-gray-400\">\r\n          Welcome back, {clerkUser?.firstName && clerkUser?.lastName \r\n            ? `${clerkUser.firstName} ${clerkUser.lastName}` \r\n            : clerkUser?.firstName || clerkUser?.username || 'User'}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6\">\r\n        <StatCard \r\n          title=\"Tracked Agencies\" \r\n          value={loading || !stats ? \"...\" : stats.agencies} \r\n          change=\"+4\" \r\n          changeType=\"positive\"\r\n          subtext=\"new regions\"\r\n          icon={Building2} \r\n        />\r\n        <StatCard \r\n          title=\"Total Contacts\" \r\n          value={loading || !stats ? \"...\" : stats.contacts.toLocaleString()} \r\n          change=\"+150\" \r\n          changeType=\"positive\"\r\n          subtext=\"available leads\"\r\n          icon={Users} \r\n        />\r\n        <StatCard \r\n          title=\"Daily API Usage\" \r\n          value={loading || !stats ? \"...\" : `${stats.usage.count}/${stats.usage.total}`} \r\n          change=\"Resets Daily\" \r\n          changeType=\"neutral\"\r\n          subtext=\"view limit\"\r\n          icon={TrendingUp} \r\n        />\r\n      </div>\r\n\r\n      {/* Usage Bar */}\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Daily Credits Consumption</h3>\r\n        <div className=\"relative pt-1\">\r\n          <div className=\"flex mb-2 items-center justify-between\">\r\n            <div>\r\n              <span className=\"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200 dark:bg-blue-900 dark:text-blue-200\">\r\n                Used\r\n              </span>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <span className=\"text-xs font-semibold inline-block text-blue-600 dark:text-blue-400\">\r\n                {stats ? Math.min(100, Math.round((stats.usage.count / stats.usage.total) * 100)) : 0}%\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-100 dark:bg-gray-700\">\r\n            <div \r\n              style={{ width: stats ? `${Math.min(100, (stats.usage.count / stats.usage.total) * 100)}%` : '0%' }} \r\n              className={`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center transition-all duration-500 ${stats && stats.usage.count >= stats.usage.total ? 'bg-red-500' : 'bg-primary-500'}`}\r\n            ></div>\r\n          </div>\r\n          <p className=\"text-sm text-gray-500\">\r\n            {!stats ? 'Loading...' : stats.usage.count >= stats.usage.total \r\n              ? \"You have reached your daily limit. Please come back tomorrow.\" \r\n              : `You can view details for ${stats.usage.remaining} more contacts today.`}\r\n          </p>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 7h6v6', key: 'box55l' }],\n  ['path', { d: 'm22 7-8.5 8.5-5-5L2 17', key: '1t1m79' }],\n];\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgN2g2djYiIC8+CiAgPHBhdGggZD0ibTIyIDctOC41IDguNS01LTVMMiAxNyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('trending-up', __iconNode);\n\nexport default TrendingUp;\n"],"names":[],"mappings":"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","ignoreList":[2]}